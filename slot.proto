syntax = "proto3";

package game;

option go_package = "github.com/lk2023060901/xiaojia-proto-game;game";

import "slot_type.proto";
import "farming_type.proto";

// [S2C] 全量同步当前主播的所有槽位信息
message SyncAnchorSlots {
  repeated SlotInfo slots = 1;    // 9个槽位的数据列表
}

// [S2C] 增量同步单个槽位的状态变化
// 用于：切换模式、PK分数跳动、灵气消耗、所有者迁移等
message SyncAnchorSlot {
  SlotInfo slot = 1;              // 变更后的槽位数据
}

// SyncSlotModel [S2C] 同步特定槽位上的玩家模型变化
message SyncSlotModel {
  uint32 slot_id = 1;             // 槽位编号
  uint64 uid = 2;                  // 玩家UID
  uint32 model_id = 3;             // 最新模型ID
}

// SyncSlotAddPlayer [S2C] 同步槽位新增人员
message SyncSlotAddPlayer {
  uint32 slot_id = 1;              // 槽位编号
  PlayerFarmingInfo info = 2;      // 玩家详情及种田状态
  bool is_owner = 3;               // 是否作为所有者加入
}

// SyncSlotRemovePlayer [S2C] 同步槽位人员离开
message SyncSlotRemovePlayer {
  uint32 slot_id = 1;              // 槽位编号
  uint64 uid = 2;                  // 离开玩家的UID
}
